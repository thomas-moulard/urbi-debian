%% Copyright (C) 2010, Gostai S.A.S.
%%
%% This software is provided "as is" without warranty of any kind,
%% either expressed or implied, including but not limited to the
%% implied warranties of fitness for a particular purpose.
%%
%% See the LICENSE file for more information.

\section{Profiling}

\lstinline|Profiling| is useful to get an idea of the efficiency of some
small pieces of code.

\subsection{Prototypes}

\begin{refObjects}
\item[Object]
\end{refObjects}

\subsection{Construction}

A \lstinline|Profiling| can be created with two arguments.  The first
argument is the expression which has to be profiled and the second is the
number of iteration it should be run.

Creating a \lstinline|Profiling| session prints the result of the profiled
expression, the number of iterations, the number of cycles and the time of
the evaluation.  The number of cycles corresponds to the number of time the
job is scheduled.

\begin{urbiunchecked}[firstnumber=1]
Profiling.new({1| 2| 3| 4}, 10000);
[00000000] Profiling information
  Expression:       1 | 2 | 3 | 4
  Iterations:       10000
  Cycles:           10000
  Total time:       1.00098 s
  Single iteration: 0.000100098 s
                    1 cycles


Profiling.new({1; 2; 3; 4}, 10000);
[00000000] Profiling information
  Expression:       1;
2;
3;
4
  Iterations:       10000
  Cycles:           40000
  Total time:       1.45856 s
  Single iteration: 0.000145856 s
                    4 cycles
\end{urbiunchecked}

%% \subsection{Slots}

%% \begin{urbiscriptapi}
%% \item[timen](<expr>, <niter>)%
%%   Profile the evaluation of the expression.  The reported message is bugged
%%   when it reports the expression.
%% \end{urbiscriptapi}
%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../urbi-sdk"
%%% ispell-dictionary: "american"
%%% ispell-personal-dictionary: "../urbi.dict"
%%% fill-column: 76
%%% End:
